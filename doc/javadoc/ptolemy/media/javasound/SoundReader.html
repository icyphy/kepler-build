<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>SoundReader</title>
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SoundReader";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SoundReader.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../ptolemy/media/javasound/SoundPlayback.html" title="class in ptolemy.media.javasound"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../ptolemy/media/javasound/SoundWriter.html" title="class in ptolemy.media.javasound"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?ptolemy/media/javasound/SoundReader.html" target="_top">Frames</a></li>
<li><a href="SoundReader.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">ptolemy.media.javasound</div>
<h2 title="Class SoundReader" class="title">Class SoundReader</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>ptolemy.media.javasound.SoundReader</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <a href="../../../src-html/ptolemy/media/javasound/SoundReader.html#line.101">SoundReader</a>
extends java.lang.Object</pre>
<div class="block">This class is a buffer that supports the reading of audio samples
 from a sound file that is specified as a URL. Specifically, this
 buffer supports the reading of double-valued audio samples. The
 maximum valid range of sample values is from -1.0 to 1.0. Any
 values outside of this range will be hard-clipped to fall within
 this range.
 <p>
 <b>Supported file types</b>
 <p>
 Valid sound file formats are WAVE (.wav), AIFF (.aif, .aiff),
 AU (.au). Valid sample rates are 8000, 11025, 22050, 44100, and
 48000 Hz. Both 8 bit and 16 bit audio are supported. Mono and
 stereo files are supported.
 <p>
 <b>Usage</b>
 <p>
 The path to the sound file, specified as a URL, is given as a
 constructor parameter. The constructor also takes an array
 length parameter, which is explained below. The constructor will
 attempt to open the specified file.
 <p>
 After invoking the constructor, the getSamples() method should
 be repeatedly invoked to read samples from the specified sound
 file. The getSamples() method takes a multidimensional array
 as a parameter. The first index represents the channel number
 (0 for first channel, 1 for  second channel, etc.). The second
 index represents the sample index within a channel. For each
 channel i, the size of the array, getSamplesArray[i].length, must
 be equal to the constructor parameter getSamplesArraySize.
 Otherwise an exception will occur. When the end of the sound
 file is reached, this method will return null.
 <p>
 The getChannels(), getSampleRate(), and getBitsPerSample()
 methods may be invoked at any time to obtain information about
 the format of the sound file.
 <p>
 When no more samples are desired, the closeFile() method should
 be invoked to close the sound file. An exception will occur if
 getSamples() is invoked at any point after closeFile() is invoked.
 <p>
 <b>Security Issues</b>
 <p>
 Applications have no restrictions on the  capturing or playback
 of audio. Applets, however, may by default only capture
 audio from a file specified as a URL on the same machine as the
 one the applet was loaded from. Applet code is not allowed to
 read or write native files. The .java.policy file may be
 modified to grant applets more privileges.
 <p>
 Note: Requires Java 2 v1.3.0 or later.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>Ptolemy II 1.0</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Brian K. Vogel</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../ptolemy/media/javasound/SoundWriter.html" title="class in ptolemy.media.javasound"><code>SoundWriter</code></a></dd>
<dt><span class="simpleTagLabel">Pt.AcceptedRating:</span></dt>
<dd>Red (cxh)</dd>
<dt><span class="simpleTagLabel">Pt.ProposedRating:</span></dt>
<dd>Red (vogel)</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../ptolemy/media/javasound/SoundReader.html#SoundReader-java.lang.String-int-">SoundReader</a></span>(java.lang.String&nbsp;sourceURL,
           int&nbsp;getSamplesArraySize)</code>
<div class="block">Construct a sound reader object that reads audio samples
  from a sound file specified as a string describing a
  URL and open the file at the specified URL.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../ptolemy/media/javasound/SoundReader.html#SoundReader-java.net.URL-int-">SoundReader</a></span>(java.net.URL&nbsp;soundURL,
           int&nbsp;getSamplesArraySize)</code>
<div class="block">Construct a sound reader object that reads audio samples
  from a sound file specified as a URL and open the file at
  the specified URL.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../ptolemy/media/javasound/SoundReader.html#closeFile--">closeFile</a></span>()</code>
<div class="block">Close the file at the specified URL.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../ptolemy/media/javasound/SoundReader.html#getBitsPerSample--">getBitsPerSample</a></span>()</code>
<div class="block">Return the number of bits per audio sample.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../ptolemy/media/javasound/SoundReader.html#getChannels--">getChannels</a></span>()</code>
<div class="block">Return the number of audio channels.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../ptolemy/media/javasound/SoundReader.html#getSampleRate--">getSampleRate</a></span>()</code>
<div class="block">Return the sampling rate in Hz.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>double[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../ptolemy/media/javasound/SoundReader.html#getSamples--">getSamples</a></span>()</code>
<div class="block">Return an array of captured audio samples.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SoundReader-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SoundReader</h4>
<pre>public&nbsp;<a href="../../../src-html/ptolemy/media/javasound/SoundReader.html#line.124">SoundReader</a>(java.lang.String&nbsp;sourceURL,
                   int&nbsp;getSamplesArraySize)
            throws java.io.IOException</pre>
<div class="block">Construct a sound reader object that reads audio samples
  from a sound file specified as a string describing a
  URL and open the file at the specified URL.
  For example, to capture samples from the
  URL http://localhost/soundfile.wav, sourceURL should be set
  to the string "http://localhost/soundfile.wav" Note that the
  "http://" is required.
  Note that it is still possible to capture audio from a file on
  the local file system. For example, to capture from a sound
  file located at "C:\someDir\someFile.wave", <i>sourceURL</i>
  should be set to "file:c:\someDir\someFile.wave". Relative
  file paths are not supported, so the complete path must always
  be specified, using the prefix "file:" It is safe
  to call getSamples() immediately after this constructor returns.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sourceURL</code> - A string describing a URL.</dd>
<dd><code>getSamplesArraySize</code> - The number of samples per channel
   returned by getSamples().</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If opening the sourceURL throws it,
  if the file format is not supported or if there is no audio
  to play.</dd>
</dl>
</li>
</ul>
<a name="SoundReader-java.net.URL-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SoundReader</h4>
<pre>public&nbsp;<a href="../../../src-html/ptolemy/media/javasound/SoundReader.html#line.147">SoundReader</a>(java.net.URL&nbsp;soundURL,
                   int&nbsp;getSamplesArraySize)
            throws java.io.IOException</pre>
<div class="block">Construct a sound reader object that reads audio samples
  from a sound file specified as a URL and open the file at
  the specified URL. It is safe
  to call getSamples() immediately after this constructor returns.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>soundURL</code> - The URL of a sound file.</dd>
<dd><code>getSamplesArraySize</code> - The number of samples per channel
   returned by getSamples().</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If opening the sourceURL throws it,
  if the file format is not supported or if there is no audio
  to play.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getChannels--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChannels</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../src-html/ptolemy/media/javasound/SoundReader.html#line.167">getChannels</a>()
                throws java.lang.IllegalStateException</pre>
<div class="block">Return the number of audio channels. This method should
  be called while the file is open (i.e., before closeFile()
  is called). Otherwise an exception will occur.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of audio channels.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - If this method is called
   before openFile() is called or after closeFile()
   is called.</dd>
</dl>
</li>
</ul>
<a name="getSampleRate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSampleRate</h4>
<pre>public&nbsp;float&nbsp;<a href="../../../src-html/ptolemy/media/javasound/SoundReader.html#line.184">getSampleRate</a>()
                    throws java.lang.IllegalStateException</pre>
<div class="block">Return the sampling rate in Hz. An exception will occur if
  this method is invoked after closeFile() is called.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The sample rate in Hz.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - If this method is called
   after closeFile()
   is called.</dd>
</dl>
</li>
</ul>
<a name="getSamples--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSamples</h4>
<pre>public&nbsp;double[][]&nbsp;<a href="../../../src-html/ptolemy/media/javasound/SoundReader.html#line.217">getSamples</a>()
                      throws java.io.IOException,
                             java.lang.IllegalStateException</pre>
<div class="block">Return an array of captured audio samples. This method
  should be repeatedly called to obtain audio data.
  The returned audio samples will have values in the range
  [-1, 1], regardless of the audio bit resolution (bits per
  sample). This method performs a blocking read, so it is not
  possible to invoke this method too frequently.
  <p>
  The array size is set by the <i>getSamplesSize</i>
  parameter in the constructor.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Two dimensional array of captured audio samples.
   Return null if end of the audio file is reached.
   The first index represents the channel number (0 for
   first channel, 1 for second channel, etc.). The second
   index represents the sample index within a channel. For
   example, <i>returned array</i>[n][m] contains the (m+1)th sample
   of the (n+1)th channel. For each channel, n, the length of
   <i>returned array</i>[n] is equal to <i>getSamplesSize</i>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is a problem reading the audio
   samples from the input file.</dd>
<dd><code>java.lang.IllegalStateException</code> - If closeFile() has already
   been called.</dd>
</dl>
</li>
</ul>
<a name="closeFile--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeFile</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../src-html/ptolemy/media/javasound/SoundReader.html#line.280">closeFile</a>()
               throws java.io.IOException</pre>
<div class="block">Close the file at the specified URL. This method should
  be called when no more calls to getSamples(). are required.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there is a problem closing the
  file.</dd>
</dl>
</li>
</ul>
<a name="getBitsPerSample--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getBitsPerSample</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../src-html/ptolemy/media/javasound/SoundReader.html#line.307">getBitsPerSample</a>()
                     throws java.lang.IllegalStateException</pre>
<div class="block">Return the number of bits per audio sample. An exception
  will occur if this method is called after closeFile() is
  invoked.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The sample size in bits.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - If this method is called
  after closeFile()
  is called.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SoundReader.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../ptolemy/media/javasound/SoundPlayback.html" title="class in ptolemy.media.javasound"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../ptolemy/media/javasound/SoundWriter.html" title="class in ptolemy.media.javasound"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?ptolemy/media/javasound/SoundReader.html" target="_top">Frames</a></li>
<li><a href="SoundReader.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
